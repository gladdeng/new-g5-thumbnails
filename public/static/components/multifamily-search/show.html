<div class="corporate-search widget">
  <div id="corp-search-container"></div>

  <style>
    {% if widget.text_color.best_value != '' %}
    .corpSearchWrapper {color:{{widget.text_color.best_value}}}
    {% endif %}
    {% if widget.search_button_color.best_value != '' %}
    .corpSearchWrapper .search-form .search-button{background:{{widget.search_button_color.best_value}}}
    {% endif %}
    {% if widget.photo_border_color.best_value != '' %}
    .corpSearchWrapper .store-summary .resultPhoto img{border:1px solid {{widget.photo_border_color.best_value}}}
    {% endif %}
    {% if widget.card_background_color.best_value != '' %}
    .corpSearchWrapper .store-summary {background:{{widget.card_background_color.best_value}}}
    {% endif %}
    {% if widget.card_text_color.best_value != '' %}
    .corpSearchWrapper .store-summary {color:{{widget.card_text_color.best_value}}}
    {% endif %}
    {% if widget.unit_info_border.best_value != '' %}
    .corpSearchWrapper .store-summary .resultUnitInfo{border-top:1px solid {{widget.unit_info_border.best_value}}}; border-bottom:1px solid {{widget.unit_info_border.best_value}}}
    {% endif %}
    {% if widget.cta_color.best_value != '' %}
    .corpSearchWrapper .store-summary .resultAvailability{background:{{widget.cta_color.best_value}}}
    {% endif %}
    {% if widget.cta_text_color.best_value != '' %}
    .corpSearchWrapper .store-summary .resultAvailability{color:{{widget.cta_text_color.best_value}}}
    {% endif %}
    {% if widget.header_text_color.best_value != '' %}
    .corpSearchWrapper .pagination-nav span.page {color:{{widget.header_text_color.best_value}}}
    .corpSearchWrapper .search-form h2{color:{{widget.header_text_color.best_value}}}
    {% endif %}
    {% if widget.search_color.best_value != '' %}
    .corpSearchWrapper .search-form span{color:{{widget.search_color.best_value}}}
    .corpSearchWrapper .search-form button{color:{{widget.search_color.best_value}}}
    {% endif %}
    {% if widget.dropdown_color.best_value != '' %}
    .corpSearchWrapper .search-form span{background:{{widget.dropdown_color.best_value}}}
    .corpSearchWrapper .search-form-inner span.locations-loading > select{color: {{widget.dropdown_color.best_value}}}
    .corpSearchWrapper .search-form-inner .loading-gray{background-color: {{widget.dropdown_color.best_value}}}
    {% endif %}
    {% if widget.dropdown_text_color.best_value != '' %}
    .corpSearchWrapper .search-form-inner span select{color: {{widget.dropdown_text_color.best_value}}}
    .corpSearchWrapper .search-form-inner span option{color: {{widget.dropdown_text_color.best_value}}}
    .corpSearchWrapper .search-form-inner span label{color: {{widget.dropdown_text_color.best_value}}}
    {% endif %}
    {% if widget.search_background.best_value != '' %}
    .corpSearchWrapper .search-form{background:{{widget.search_background.best_value}}}
    .corpSearchWrapper .pagination-nav span.next{border-left: 15px solid {{widget.search_background.best_value}}}
    .corpSearchWrapper .pagination-nav a.next{border-left: 15px solid {{widget.search_background.best_value}}}
    .corpSearchWrapper .pagination-nav span.previous{border-right: 15px solid {{widget.search_background.best_value}}}
    .corpSearchWrapper .pagination-nav a.previous{border-right: 15px solid {{widget.search_background.best_value}}}
    .corpSearchWrapper .pagination-nav a.page{color:{{widget.search_background.best_value}}}
    .corpSearchWrapper .pagination-nav span.page{background:{{widget.search_background.best_value}}}
    {% endif %}
  </style>

  <script src='https://api.tiles.mapbox.com/mapbox.js/v2.0.0/mapbox.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox.js/v2.0.0/mapbox.css' rel='stylesheet' />

  <meta id="ember-meta" name="multi-family-search/config/environment">
  <script>
    var G5 = {
        corpSearchContainer: 'corp-search-container',
        clientId: '{{ widget.core_client_id.best_value }}',
        serviceHost: "{{ widget.core_service_url.best_value | url_encode }}"
    };

    var EmberAppConfig = {
     "modulePrefix":"multi-family-search",
     "environment":"production",
     "baseURL":"/",
     "EmberENV":{
        "ORION_URL": "{{ widget.orion_single_domain.value }}",
        "PAGINATION":{"PER_PAGE":"{{ widget.per_page.best_value }}"},
        "THRESHOLD": {
          "AVAILABLE": "{{ widget.available_threshold.best_value }}",
          "CTA_AVAILABLE_TEXT": "{{ widget.cta_available_text_threshold.best_value }}",
          "CTA_LIMITED_TEXT": "{{ widget.cta_limited_text_threshold.best_value }}"
        },
        "CTAS":{
          "CTA_AVAILABLE_TEXT": "{{ widget.cta_available_text.best_value }}",
          "CTA_LIMITED_TEXT": "{{ widget.cta_limited_text.best_value }}",
          "CTA_LOW_TEXT": "{{ widget.cta_low_text.best_value }}"
        },
        "HEADING_TEXT": "{{ widget.heading_text.best_value }}",
        "FEATURES":{}
     },
     "APP":{}
    }
    document.getElementById("ember-meta").content = JSON.stringify(EmberAppConfig)
  </script>
</div>
